<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gold Arbitrage Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>
        <span>🟡</span> 金價套利看板
      </h1>
      <div class="actions">
        <span class="last-updated" id="last-updated">Waiting...</span>
        <button class="btn-refresh" id="refresh-btn">
          <span>↻</span> Refresh
        </button>
      </div>
    </header>

    <!-- Metrics Dashboard -->
    <div class="dashboard">
      <div class="metric-card" id="m-london">
        <div class="metric-header">🇬🇧 London Gold</div>
        <div class="metric-value skeleton">--</div>
        <div class="metric-sub">USD / oz</div>
      </div>
      <div class="metric-card" id="m-hkd">
        <div class="metric-header">🇭🇰 HKD Rate</div>
        <div class="metric-value skeleton">--</div>
        <div class="metric-sub">to USD</div>
      </div>
      <div class="metric-card" id="m-tanaka">
        <div class="metric-header">🇯🇵 Tanaka Gold</div>
        <div class="metric-value skeleton">--</div>
        <div class="metric-sub">JPY / g</div>
      </div>
      <div class="metric-card" id="m-jpy">
        <div class="metric-header">🇯🇵 JPY Rate</div>
        <div class="metric-value skeleton">--</div>
        <div class="metric-sub">to USD</div>
      </div>
      <div class="metric-card" id="m-usdt">
        <div class="metric-header">₮ USDT Price</div>
        <div class="metric-value skeleton">--</div>
        <div class="metric-sub">JPY</div>
      </div>
    </div>

    <!-- Calculator Section -->
    <div class="tabs">
      <button class="tab-btn active" data-target="panel-hk">🇭🇰 ↔ 🇯🇵 Cross-Border</button>
      <button class="tab-btn" data-target="panel-jp">🇯🇵 Domestic Trade</button>
      <button class="tab-btn" data-target="panel-usdt">₮ USDT Exchange</button>
    </div>

    <div class="calc-container">
      <!-- HK -> JP Calculator -->
      <div class="calc-panel active" id="panel-hk">
        <div class="panel-header">
          <h2>香港買入 → 日本賣出</h2>
          <p>計算從香港運送黃金至日本的套利空間</p>
        </div>
        <div class="input-group">
          <div class="field">
            <label>買入重量</label>
            <div class="input-wrapper">
              <input type="number" id="hk-kg" value="1" min="0" step="0.001">
              <span class="unit">kg</span>
            </div>
          </div>
          <div class="field">
            <label>運費雜支</label>
            <div class="input-wrapper">
              <input type="number" id="hk-ship" value="0" min="0">
              <span class="unit">HKD</span>
            </div>
          </div>
          <div class="field">
            <label>賣出下浮</label>
            <div class="input-wrapper">
              <input type="number" id="hk-disc" value="0" min="0">
              <span class="unit">JPY/g</span>
            </div>
          </div>
        </div>
        <div class="result-box" id="hk-result">
          <div class="result-row">請等待報價更新...</div>
        </div>
      </div>

      <!-- JP Domestic Calculator -->
      <div class="calc-panel" id="panel-jp">
        <div class="panel-header">
          <h2>日本境內買賣</h2>
          <p>計算日本境內基於田中貴金屬報價的價差利潤</p>
        </div>
        <div class="input-group">
          <div class="field">
            <label>交易重量</label>
            <div class="input-wrapper">
              <input type="number" id="jp-kg" value="1" min="0" step="0.001">
              <span class="unit">kg</span>
            </div>
          </div>
          <div class="field">
            <label>買入折讓 (A)</label>
            <div class="input-wrapper">
              <input type="number" id="jp-disc-buy" value="0">
              <span class="unit">JPY/g</span>
            </div>
          </div>
          <div class="field">
            <label>賣出折讓 (C)</label>
            <div class="input-wrapper">
              <input type="number" id="jp-disc-sell" value="0">
              <span class="unit">JPY/g</span>
            </div>
          </div>
          <div class="field">
            <label>其他成本 (B)</label>
            <div class="input-wrapper">
              <input type="number" id="jp-misc" value="0">
              <span class="unit">
                <select id="jp-misc-curr" style="background:none; border:none; color:inherit; font-size:inherit;">
                  <option value="JPY">JPY</option>
                  <option value="USD">USD</option>
                  <option value="HKD">HKD</option>
                </select>
              </span>
            </div>
          </div>
        </div>
        <div class="result-box" id="jp-result">
          <div class="result-row">請等待報價更新...</div>
        </div>
      </div>

      <!-- USDT Calculator -->
      <div class="calc-panel" id="panel-usdt">
        <div class="panel-header">
          <h2>USDT 兌換試算</h2>
          <p>基於 Google Finance 報價計算</p>
        </div>
        <div class="input-group">
          <div class="field">
            <label>USDT 數量</label>
            <div class="input-wrapper">
              <input type="number" id="usdt-amount" value="1000" min="0">
              <span class="unit">₮</span>
            </div>
          </div>
          <div class="field">
            <label>匯率價差</label>
            <div class="input-wrapper">
              <input type="number" id="usdt-spread" value="0" step="0.01">
              <span class="unit">JPY</span>
            </div>
          </div>
        </div>
        <div class="result-box" id="usdt-result">
          <div class="result-row">請等待報價更新...</div>
        </div>
      </div>
    </div>

    <p class="footer-note">
      資料來源：Swissquote, Tanaka Precious Metals, Google Finance. <br>
      數據僅供參考，實際交易請以官方為準。
    </p>
  </div>

  <script src="script.js"></script>
</body>
</html>
